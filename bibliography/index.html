<!DOCTYPE html>
<html>
<head>
    <title>Monte Carlo Tree Search - Bibliography</title>
	<link rel="stylesheet" type="text/css" href="style.css"/>
	<script src="jquery-1.11.0.min.js"></script>
	<script src="jquery.sortChildren.js"></script>
	<script src="parsebib.js"></script>
	<script>
		function e(value)
		{
			return value || '<span class="error">unknown</span>';
		}
		
		function formatEntry(entry)
		{
			var result = $("<li>").addClass("bibtex-" + entry.bibtexType);
			
			var icon = $("<img>").addClass("icon")
				.attr("src", entry.bibtexType + ".png")
				.attr("alt", entry.bibtexType)
				.attr("title", entry.bibtexType);
			result.append(icon);
			
			var authorDiv = $("<div>").addClass("authorlist");
			result.append(authorDiv);
			for (var i=0; i<entry.author.length; i++)
			{
				if (i > 0)
				{
					if (i == entry.author.length - 1)
						authorDiv.append(" and ");
					else
						authorDiv.append(", ");
				}
				
				var authorName = entry.author[i].replace(/^(.*), (.*)$/, "$2 $1");
				authorDiv.append($("<a>")
					.addClass("author")
					.click(entry.author[i], authorClicked)
					.append(authorName));
			}
			authorDiv.append(". ");
			
			var titleDiv = $("<div>").addClass("title").append(entry.title + ". ");
			result.append(titleDiv);
			
			var detailsDiv = $("<div>").addClass("details");
			result.append(detailsDiv);
			
			switch (entry.bibtexType)
			{
			case "article":
				detailsDiv.append('<span class="journalname">' + e(entry.journal) + '</span>, ');
				if ("volume" in entry && "number" in entry)
					detailsDiv.append(entry.volume + "(" + entry.number + "):");
				else if ("volume" in entry)
					detailsDiv.append(entry.volume + ":");
				else if ("number" in entry)
					detailsDiv.append(entry.number + ":");
				
				detailsDiv.append(e(entry.pages) + ", " + e(entry.year) + ". ");
				break;
			
			case "inproceedings":
				detailsDiv.append('<span class="conferencename">' + e(entry.booktitle) + '</span>, ');
				detailsDiv.append(e(entry.pages) + ", " + e(entry.year) + ". ");
				break;
			
			case "book":
				detailsDiv.append(e(entry.publisher) + ", " + e(entry.year) + ". ");
				break;
			
			case "incollection":
				detailsDiv.append('In <span class="bookname">' + e(entry.booktitle) + '</span>, ');
				detailsDiv.append(e(entry.pages) + ", " + e(entry.year) + ". ");
				break;
			
			case "phdthesis":
				detailsDiv.append(e(entry.type) + ", " + e(entry.school) + ", " + e(entry.year) + ". ");
				break;
			
			case "techreport":
				detailsDiv.append("Technical report, " + e(entry.institution) + ", " + e(entry.year) + ". ");
				break;
			
			default:
				detailsDiv.append('<span class="error">' + entry.bibtexType + '</span>');
				break;
			}
			
			var linksList = $("<ul>").addClass("links");
			result.append(linksList);
			
			linksList.append($("<li>").append(
				$("<a>").append("BibTeX").addClass("bibtex")
					.click(function() { $(this).closest(".links").next("pre.bibtex").toggle("fast"); })
			));
			
			if ("url" in entry)
				linksList.append($("<li>").append(
					$("<a>").attr("href", entry.url).append("URL")
				));
			
			if ("doi" in entry)
				linksList.append($("<li>").append(
					$("<a>").attr("href", "http://dx.doi.org/" + entry.doi).append("DOI")
				));
			
			var scholarQuery = entry.firstAuthorSurname() + ' "' + entry.title + '"';
			scholarQuery = encodeURIComponent(scholarQuery);
			linksList.append($("<li>").append(
				$("<a>").append("Google Scholar")
					.attr("href", "http://scholar.google.com/scholar?hl=en&q=" + scholarQuery)
			));
			
			result.append($("<pre>")
				.addClass("bibtex")
				.append(entry.bibtex)
				.hide()
			);
			
			return result;
		}
		
		function authorClicked(event)
		{
			filterByAuthor(event.data);
		}
		
		function clearFilter()
		{
			$("ul#toplinks li.clearfilter").remove();
			$("ul#bib li").show();
		}
		
		function filterByAuthor(author)
		{
			clearFilter();
			
			$("ul#bib li").each(function()
			{
				var $this = $(this);
				var entry = $this.data("entry");
				if (entry)
				{
					if ($.inArray(author, entry.author) == -1)
					{
						$this.hide();
					}
				}
			});
			
			$("ul#toplinks").append(
				$("<li>").addClass("clearfilter").append(
					$("<a>").click(clearFilter)
						.append("Showing papers by " + author.replace(/^(.*), (.*)$/, "$2 $1") + " (click to show all)")
				)
			);
		}
		
		function sortByAuthor()
		{
			$("ul#bib").sortChildren(
				function(el)  { return $(el).data("entry"); },
				function(a,b) { return compareBibEntries(a.value, b.value, ["author", "-year", "title"]); });
		}
		
		function sortByYear()
		{
			$("ul#bib").sortChildren(
				function(el)  { return $(el).data("entry"); },
				function(a,b) { return compareBibEntries(a.value, b.value, ["-year", "author", "title"]); });
		}
		
		var bibEntries = [];
		
		$(document).ready(function(){
			$.ajax({
				url: "bibliography.bib",
				dataType: "text",
				success: function(data, status, jqXHR)
				{
					bibEntries = parseBib(data);
					
					var refCount = 0;
					for (var i=0; i<bibEntries.length; i++)
					{
						if (!bibEntries[i].isNonMcts && !bibEntries[i].isPpt())
						{
							var entryElement = formatEntry(bibEntries[i]);
							entryElement.data("entry", bibEntries[i]);
							$("ul#bib").append(entryElement);
							refCount++;
						}
					}
					
					$("div.loading").remove();
					
					$("span#refcount").text(refCount);
					sortByAuthor();
				}
			});
		});
	</script>
</head>

<body>
<table width="95%" border="0" cellpadding="16" cellspacing="0">
	<tr>
		<td width="149"><div align="center"><img src="../logo/mcts-logo-36a.png" width="150" height="36" /></div></td>
		<td class="style6">Bibliography</td>
	</tr>
	<tr>
		<td align="left" valign="top">
			<p align="center" class="menuitem"><a href="../index.html">Home</a></p>
			<p align="center" class="menuitem"><a href="../about/index.html">About</a></p>
			<p align="center" class="menuitem"><a href="../code/index.html">Code</a></p>
			<p align="center" class="menuitem"><a href="../bibliography/index.html"><b>Bibliography</b></a></p>
			<p align="center" class="menuitem"><a href="../project/index.html">Project</a></p>
		</td>
		<td valign="top" bordercolor="#FF6600" bgcolor="#FFF5D7"><p class="style7"> This bibliography contains all known publications related to MCTS (<span id="refcount">?</span> at last count). Additional  material such as  presentations, web pages, repositories and so on may be found in the <a href="../resources/index.html">Resources</a> page.</p>
			<p class="style7">Please submit new entries <a href="mailto:edward.powley@york.ac.uk">to us</a> with complete reference details and associated URL.</p>
			<hr noshade="noshade" />
			<ul class="links" id="toplinks">
				<li><a onclick="sortByAuthor()">Sort by author</a></li>
				<li><a onclick="sortByYear()">Sort by year</a></li>
			</ul>
			<div class="loading">Loading, please wait...</div>
			<ul id="bib"></ul>
		</td>
	</tr>
</table>
</body>
</html>
